---
layout: page
title: "자연어 처리 - 정규표현식"
subtitle: "형태소 분석과 품사 태깅"
author:
    name: xwMOOC
date: "`r Sys.Date()`"
output:
  html_document: 
    toc: yes
    toc_float: true
    highlight: tango
    code_folding: show
    number_section: true
    self_contained: true
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, message=FALSE, warning=FALSE,
                      comment="", digits = 3, tidy = FALSE, prompt = FALSE, fig.align = 'center')

library(reticulate)
use_condaenv("anaconda3")
# reticulate::repl_python()
```


# 영문 형태소 분석 {#pos-english}

`nltk.download()` 함수를 사용해서 필요한 기능을 다운로드 받는다.

- `nltk.download('averaged_perceptron_tagger')`
- `nltk.download('punkt')`

영문 형태소 분석기가 준비되었으면 [The quick brown fox jumps over the lazy dog](https://ko.wikipedia.org/wiki/The_quick_brown_fox_jumps_over_the_lazy_dog) 문장을 대상으로 명사를 추출해본다.
형태소 분석이 끝난 결과를 딕셔너리로 만들어서 이를 토큰화 과정을 마친 단어의 형태소를 list comprehension으로 명사만 추출한다.

```{python pos-english-dictionary}
import nltk
from pprint import pprint

eng_sentence =  ["The quick brown fox jumps over the lazy dog"]

def build_dictionary():
    dictionary = {}
    for sent in eng_sentence:
        pos_tags = nltk.pos_tag(nltk.word_tokenize(sent))
        for tag in pos_tags:
            value = tag[0]
            pos = tag[1]
            dictionary[value] = pos
    return dictionary

pos_dict = build_dictionary()

pprint(pos_dict)

nouns = [n for n, tag in pos_dict.items() if tag in ["NN","NNP"] ]
print(nouns)
```


# 국문 형태소 분석 [^kakao-pos] [^konlpy-pos] {#pos-korean}

[^kakao-pos]: [한글 형태소 분석기 KKMA - with 카톡대화](https://ssoonidev.tistory.com/88)

[^konlpy-pos]: [KoNLPy Installation](http://konlpy.org/en/latest/install/)

맥 OSX 기본 컴파일러는 Apple LLVM 이라, 환경 변수에 GNU 를 설정하지 않고 `export CC=/usr/local/Cellar/gcc/9.1.0/bin/gcc-9` 명령어를 사용해서 MeCab 설치만 사용한다.

`MeCab_wrap.cxx:2982:10: fatal error: 'stdexcept' file not found` 오류
[OSX - Mojave 에서 mecab-python3 설치하기](https://medium.com/@jjeaby/osx-mojave-%EC%97%90%EC%84%9C-mecab-python3-%EC%84%A4%EC%B9%98%ED%95%98%EA%B8%B0-c007bcb19189)

`bash <(curl -s https://raw.githubusercontent.com/konlpy/konlpy/master/scripts/mecab.sh)`



```{python pos-korean-dictionary, eval=FALSE}
from konlpy.tag import Kkma, Hannanum, Komoran, Mecab, Twitter

mecab = Mecab()
```


